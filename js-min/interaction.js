function goToFinalScreen(){path={text:'This tutorial was brought to you by <a href="http://nickentin.com">Nick Entin</a>.',image:"01",buttons:{}},updateDisplay();var t=$('<a href="#" class="button">Start Over</a>').click(function(){path=full_path,updateDisplay()});$("#buttons").delay(300).queue(function(){$(this).append(t)})}function goToNextStep(t){path=path.buttons[t],path.endpoint&&(console.log("Starting queue"),$({}).delay(2500).queue(function(){console.log("Executing queue"),goToFinalScreen()})),preloadImagesForNextStep()}function updateDisplay(){$("#text").fadeOut(TRANSITION_TIME/2).fadeIn(TRANSITION_TIME/2),$("#nextscreen").fadeOut(0).css("background-image","url(img/"+device+"/"+path.image+".png)").fadeIn(TRANSITION_TIME),$("#screen").delay(TRANSITION_TIME).queue(function(){$(this).css("background-image","url(img/"+device+"/"+path.image+".png)"),$(this).dequeue()}).fadeIn(0),$({}).delay(TRANSITION_TIME/2).queue(function(){$("#instruction").html("<p>"+path.text+"</p>"),$("#buttons").html("");for(var t in path.buttons){var e=$('<a href="#" class="button">'+t+"</a>");e.click(function(){goToNextStep($(this).html()),updateDisplay()}),$("#buttons").append(e)}$(this).dequeue()})}function preloadImagesForNextStep(){for(var t in path.buttons)preloadImage("img/"+device+"/"+path.buttons[t].image+".png")}function preloadImage(t){(new Image).src=t}var full_path={text:"First, open the Settings app.",image:"01",endpoint:!1,buttons:{"Okay, next?":{text:"Next, go into the General menu.",image:"02",endpoint:!1,buttons:{"Easy. Now what?":{text:'Click on "Keyboard". You may have to scroll down a bit.',image:"03",endpoint:!1,buttons:{"Found it!":{text:"Now go into the Keyboards list. It should be the first option in the menu.",image:"04",endpoint:!1,buttons:{"Got it, next?":{text:'Now click on "Add New Keyboard...".',image:"05",endpoint:!1,buttons:{"Easy. Keep going.":{text:'Select the keyboard you want to add. It\'s probably under the "Third-Party Keyboards" section.',image:"06",endpoint:!1,buttons:{"It's there! Am I done?":{text:"We're almost done. Many third-party keyboards require full access to implement features like theming and autocorrect.",image:"07",endpoint:!1,buttons:{"Sounds cool, count me in!":{text:"Awesome! Click on the name of the keyboard you just installed.",image:"07",endpoint:!1,buttons:{"Okay, next?":{text:'Now toggle the "Allow Full Access" slider to the ON position.',image:"08",endpoint:!1,buttons:{"Got it. Now what?":{text:'You should get a popup asking you to confirm. It\'s telling you that giving the keyboard full access gives it, well... full access. Click "Allow" to confirm.',image:"09",endpoint:!1,buttons:{"Makes sense. Am I done?":{text:"Yep, that's it! You're now ready to go and enjoy your new keyboard. Have fun!",image:"01",endpoint:!0}}}}}}},"I'd rather not":{text:"In that case, you're done. Congrats on getting your keyboard fully set up. Enjoy!",image:"01",endpoint:!0}}}}}}}}}}}}}}},path=full_path,device,TRANSITION_TIME=500;$(document).ready(function(){$("#buttons a#iPhone").click(function(){device="iPhone",$("#preview").fadeOut(0).addClass("iPhone").fadeIn(TRANSITION_TIME),updateDisplay()}),$("#buttons a#iPad").click(function(){device="iPad",$("#preview").fadeOut(0).addClass("iPad").fadeIn(TRANSITION_TIME),updateDisplay()}),preloadImage("img/iPhone.svg"),preloadImage("img/iPad.svg")});